{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":82},"end":{"line":4,"column":44,"index":126}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/View","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"4kYBDC6LJJXoH7P9rWDi3vkLVB0=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/ActivityIndicator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"bSAkUkqZq0shBb5bU6kCYXi4ciA=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/StyleSheet","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"MK7+k1V+KnvCVW7Kj2k/ydtjmVU=","exportNames":["*"],"imports":1}},{"name":"react-native-web/dist/exports/Platform","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dV3bI3NOD8bfMzaIniMaFGy/nn8=","exportNames":["*"],"imports":1}},{"name":"expo-router","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":205},"end":{"line":6,"column":40,"index":245}}],"key":"/+ErnBisjrT6aDU+GRp5Qz/lYoY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}},{"name":"expo-secure-store","data":{"asyncType":null,"isESMImport":false,"locs":[{"start":{"line":16,"column":24,"index":480},"end":{"line":16,"column":52,"index":508}}],"key":"oflADjjImsOps+zbwR1yjTAbzjU=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/mobile/frontend/app/index.tsx\",\n    _s = $RefreshSig$(); // INDEX - ENTRY POINT\n  // Check SecureStore for token and redirect based on role\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return Index;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeWebDistExportsView = require(_dependencyMap[1], \"react-native-web/dist/exports/View\");\n  var View = _interopDefault(_reactNativeWebDistExportsView);\n  var _reactNativeWebDistExportsActivityIndicator = require(_dependencyMap[2], \"react-native-web/dist/exports/ActivityIndicator\");\n  var ActivityIndicator = _interopDefault(_reactNativeWebDistExportsActivityIndicator);\n  var _reactNativeWebDistExportsStyleSheet = require(_dependencyMap[3], \"react-native-web/dist/exports/StyleSheet\");\n  var StyleSheet = _interopDefault(_reactNativeWebDistExportsStyleSheet);\n  var _reactNativeWebDistExportsPlatform = require(_dependencyMap[4], \"react-native-web/dist/exports/Platform\");\n  var Platform = _interopDefault(_reactNativeWebDistExportsPlatform);\n  var _expoRouter = require(_dependencyMap[5], \"expo-router\");\n  var _reactJsxDevRuntime = require(_dependencyMap[6], \"react/jsx-dev-runtime\");\n  const PRIMARY = '#1E3A5F';\n\n  // Web-safe storage wrapper\n  const storage = {\n    get: async key => {\n      if (Platform.default.OS === 'web') {\n        return localStorage.getItem(key);\n      }\n      const SecureStore = require(_dependencyMap[7], \"expo-secure-store\");\n      return await SecureStore.getItemAsync(key);\n    }\n  };\n  function Index() {\n    _s();\n    const router = (0, _expoRouter.useRouter)();\n    const [isChecking, setIsChecking] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      checkAuthAndRedirect();\n    }, []);\n    const checkAuthAndRedirect = async () => {\n      try {\n        const token = await storage.get('access_token');\n        const role = await storage.get('user_role');\n        if (!token) {\n          // No token, redirect to login\n          router.replace('/login');\n          return;\n        }\n\n        // Token exists, redirect based on role\n        if (role === 'Admin') {\n          router.replace('/(admin)/dashboard');\n        } else if (role === 'Supervisor') {\n          router.replace('/(supervisor)/dashboard');\n        } else {\n          // Unknown role, default to login\n          router.replace('/login');\n        }\n      } catch (error) {\n        console.error('Auth check failed:', error);\n        router.replace('/login');\n      } finally {\n        setIsChecking(false);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(View.default, {\n      style: styles.container,\n      children: /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(ActivityIndicator.default, {\n        size: \"large\",\n        color: PRIMARY\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this);\n  }\n  _s(Index, \"bGq9v6+9lMzb/BEkKB9ZTeEjftg=\", false, function () {\n    return [_expoRouter.useRouter];\n  });\n  _c = Index;\n  const styles = StyleSheet.default.create({\n    container: {\n      flex: 1,\n      justifyContent: 'center',\n      alignItems: 'center',\n      backgroundColor: '#FFFFFF'\n    }\n  });\n  var _c;\n  $RefreshReg$(_c, \"Index\");\n});","lineCount":107,"map":[[5,25,1,0],[6,2,2,0],[7,2,2,0,"Object"],[7,8,2,0],[7,9,2,0,"defineProperty"],[7,23,2,0],[7,24,2,0,"exports"],[7,31,2,0],[8,4,2,0,"value"],[8,9,2,0],[9,2,2,0],[10,2,2,0],[10,11,2,0,"_interopDefault"],[10,27,2,0,"e"],[10,28,2,0],[11,4,2,0],[11,11,2,0,"e"],[11,12,2,0],[11,16,2,0,"e"],[11,17,2,0],[11,18,2,0,"__esModule"],[11,28,2,0],[11,31,2,0,"e"],[11,32,2,0],[12,6,2,0,"default"],[12,13,2,0],[12,15,2,0,"e"],[13,4,2,0],[14,2,2,0],[15,2,21,15,"Object"],[15,8,21,15],[15,9,21,15,"defineProperty"],[15,23,21,15],[15,24,21,15,"exports"],[15,31,21,15],[16,4,21,15,"enumerable"],[16,14,21,15],[17,4,21,15,"get"],[17,7,21,15],[17,18,21,15,"get"],[17,19,21,15],[18,6,21,15],[18,13,21,15,"Index"],[18,18,21,15],[19,4,21,15],[20,2,21,15],[21,2,4,0],[21,6,4,0,"_react"],[21,12,4,0],[21,15,4,0,"require"],[21,22,4,0],[21,23,4,0,"_dependencyMap"],[21,37,4,0],[22,2,4,44],[22,6,4,44,"_reactNativeWebDistExportsView"],[22,36,4,44],[22,39,4,44,"require"],[22,46,4,44],[22,47,4,44,"_dependencyMap"],[22,61,4,44],[23,2,4,44],[23,6,4,44,"View"],[23,10,4,44],[23,13,4,44,"_interopDefault"],[23,28,4,44],[23,29,4,44,"_reactNativeWebDistExportsView"],[23,59,4,44],[24,2,4,44],[24,6,4,44,"_reactNativeWebDistExportsActivityIndicator"],[24,49,4,44],[24,52,4,44,"require"],[24,59,4,44],[24,60,4,44,"_dependencyMap"],[24,74,4,44],[25,2,4,44],[25,6,4,44,"ActivityIndicator"],[25,23,4,44],[25,26,4,44,"_interopDefault"],[25,41,4,44],[25,42,4,44,"_reactNativeWebDistExportsActivityIndicator"],[25,85,4,44],[26,2,4,44],[26,6,4,44,"_reactNativeWebDistExportsStyleSheet"],[26,42,4,44],[26,45,4,44,"require"],[26,52,4,44],[26,53,4,44,"_dependencyMap"],[26,67,4,44],[27,2,4,44],[27,6,4,44,"StyleSheet"],[27,16,4,44],[27,19,4,44,"_interopDefault"],[27,34,4,44],[27,35,4,44,"_reactNativeWebDistExportsStyleSheet"],[27,71,4,44],[28,2,4,44],[28,6,4,44,"_reactNativeWebDistExportsPlatform"],[28,40,4,44],[28,43,4,44,"require"],[28,50,4,44],[28,51,4,44,"_dependencyMap"],[28,65,4,44],[29,2,4,44],[29,6,4,44,"Platform"],[29,14,4,44],[29,17,4,44,"_interopDefault"],[29,32,4,44],[29,33,4,44,"_reactNativeWebDistExportsPlatform"],[29,67,4,44],[30,2,6,0],[30,6,6,0,"_expoRouter"],[30,17,6,0],[30,20,6,0,"require"],[30,27,6,0],[30,28,6,0,"_dependencyMap"],[30,42,6,0],[31,2,6,40],[31,6,6,40,"_reactJsxDevRuntime"],[31,25,6,40],[31,28,6,40,"require"],[31,35,6,40],[31,36,6,40,"_dependencyMap"],[31,50,6,40],[32,2,8,0],[32,8,8,6,"PRIMARY"],[32,15,8,13],[32,18,8,16],[32,27,8,25],[34,2,10,0],[35,2,11,0],[35,8,11,6,"storage"],[35,15,11,13],[35,18,11,16],[36,4,12,2,"get"],[36,7,12,5],[36,9,12,7],[36,15,12,14,"key"],[36,18,12,25],[36,22,12,54],[37,6,13,4],[37,10,13,8,"Platform"],[37,18,13,16],[37,19,13,16,"default"],[37,26,13,16],[37,27,13,17,"OS"],[37,29,13,19],[37,34,13,24],[37,39,13,29],[37,41,13,31],[38,8,14,6],[38,15,14,13,"localStorage"],[38,27,14,25],[38,28,14,26,"getItem"],[38,35,14,33],[38,36,14,34,"key"],[38,39,14,37],[38,40,14,38],[39,6,15,4],[40,6,16,4],[40,12,16,10,"SecureStore"],[40,23,16,21],[40,26,16,24,"require"],[40,33,16,31],[40,34,16,31,"_dependencyMap"],[40,48,16,31],[40,72,16,51],[40,73,16,52],[41,6,17,4],[41,13,17,11],[41,19,17,17,"SecureStore"],[41,30,17,28],[41,31,17,29,"getItemAsync"],[41,43,17,41],[41,44,17,42,"key"],[41,47,17,45],[41,48,17,46],[42,4,18,2],[43,2,19,0],[43,3,19,1],[44,2,21,15],[44,11,21,24,"Index"],[44,16,21,29,"Index"],[44,17,21,29],[44,19,21,32],[45,4,21,32,"_s"],[45,6,21,32],[46,4,22,2],[46,10,22,8,"router"],[46,16,22,14],[46,19,22,17],[46,23,22,17,"useRouter"],[46,34,22,26],[46,35,22,26,"useRouter"],[46,44,22,26],[46,46,22,27],[46,47,22,28],[47,4,23,2],[47,10,23,8],[47,11,23,9,"isChecking"],[47,21,23,19],[47,23,23,21,"setIsChecking"],[47,36,23,34],[47,37,23,35],[47,40,23,38],[47,44,23,38,"useState"],[47,50,23,46],[47,51,23,46,"useState"],[47,59,23,46],[47,61,23,47],[47,65,23,51],[47,66,23,52],[48,4,25,2],[48,8,25,2,"useEffect"],[48,14,25,11],[48,15,25,11,"useEffect"],[48,24,25,11],[48,26,25,12],[48,32,25,18],[49,6,26,4,"checkAuthAndRedirect"],[49,26,26,24],[49,27,26,25],[49,28,26,26],[50,4,27,2],[50,5,27,3],[50,7,27,5],[50,9,27,7],[50,10,27,8],[51,4,29,2],[51,10,29,8,"checkAuthAndRedirect"],[51,30,29,28],[51,33,29,31],[51,39,29,31,"checkAuthAndRedirect"],[51,40,29,31],[51,45,29,43],[52,6,30,4],[52,10,30,8],[53,8,31,6],[53,14,31,12,"token"],[53,19,31,17],[53,22,31,20],[53,28,31,26,"storage"],[53,35,31,33],[53,36,31,34,"get"],[53,39,31,37],[53,40,31,38],[53,54,31,52],[53,55,31,53],[54,8,32,6],[54,14,32,12,"role"],[54,18,32,16],[54,21,32,19],[54,27,32,25,"storage"],[54,34,32,32],[54,35,32,33,"get"],[54,38,32,36],[54,39,32,37],[54,50,32,48],[54,51,32,49],[55,8,34,6],[55,12,34,10],[55,13,34,11,"token"],[55,18,34,16],[55,20,34,18],[56,10,35,8],[57,10,36,8,"router"],[57,16,36,14],[57,17,36,15,"replace"],[57,24,36,22],[57,25,36,23],[57,33,36,31],[57,34,36,32],[58,10,37,8],[59,8,38,6],[61,8,40,6],[62,8,41,6],[62,12,41,10,"role"],[62,16,41,14],[62,21,41,19],[62,28,41,26],[62,30,41,28],[63,10,42,8,"router"],[63,16,42,14],[63,17,42,15,"replace"],[63,24,42,22],[63,25,42,23],[63,45,42,43],[63,46,42,44],[64,8,43,6],[64,9,43,7],[64,15,43,13],[64,19,43,17,"role"],[64,23,43,21],[64,28,43,26],[64,40,43,38],[64,42,43,40],[65,10,44,8,"router"],[65,16,44,14],[65,17,44,15,"replace"],[65,24,44,22],[65,25,44,23],[65,50,44,48],[65,51,44,49],[66,8,45,6],[66,9,45,7],[66,15,45,13],[67,10,46,8],[68,10,47,8,"router"],[68,16,47,14],[68,17,47,15,"replace"],[68,24,47,22],[68,25,47,23],[68,33,47,31],[68,34,47,32],[69,8,48,6],[70,6,49,4],[70,7,49,5],[70,8,49,6],[70,15,49,13,"error"],[70,20,49,18],[70,22,49,20],[71,8,50,6,"console"],[71,15,50,13],[71,16,50,14,"error"],[71,21,50,19],[71,22,50,20],[71,42,50,40],[71,44,50,42,"error"],[71,49,50,47],[71,50,50,48],[72,8,51,6,"router"],[72,14,51,12],[72,15,51,13,"replace"],[72,22,51,20],[72,23,51,21],[72,31,51,29],[72,32,51,30],[73,6,52,4],[73,7,52,5],[73,16,52,14],[74,8,53,6,"setIsChecking"],[74,21,53,19],[74,22,53,20],[74,27,53,25],[74,28,53,26],[75,6,54,4],[76,4,55,2],[76,5,55,3],[77,4,57,2],[77,24,58,4],[77,28,58,4,"_reactJsxDevRuntime"],[77,47,58,4],[77,48,58,4,"jsxDEV"],[77,54,58,4],[77,56,58,5,"View"],[77,60,58,9],[77,61,58,9,"default"],[77,68,58,9],[78,6,58,10,"style"],[78,11,58,15],[78,13,58,17,"styles"],[78,19,58,23],[78,20,58,24,"container"],[78,29,58,34],[79,6,58,34,"children"],[79,14,58,34],[79,29,59,6],[79,33,59,6,"_reactJsxDevRuntime"],[79,52,59,6],[79,53,59,6,"jsxDEV"],[79,59,59,6],[79,61,59,7,"ActivityIndicator"],[79,78,59,24],[79,79,59,24,"default"],[79,86,59,24],[80,8,59,25,"size"],[80,12,59,29],[80,14,59,30],[80,21,59,37],[81,8,59,38,"color"],[81,13,59,43],[81,15,59,45,"PRIMARY"],[82,6,59,53],[83,8,59,53,"fileName"],[83,16,59,53],[83,18,59,53,"_jsxFileName"],[83,30,59,53],[84,8,59,53,"lineNumber"],[84,18,59,53],[85,8,59,53,"columnNumber"],[85,20,59,53],[86,6,59,53],[86,13,59,55],[87,4,59,56],[88,6,59,56,"fileName"],[88,14,59,56],[88,16,59,56,"_jsxFileName"],[88,28,59,56],[89,6,59,56,"lineNumber"],[89,16,59,56],[90,6,59,56,"columnNumber"],[90,18,59,56],[91,4,59,56],[91,11,60,10],[91,12,60,11],[92,2,62,0],[93,2,62,1,"_s"],[93,4,62,1],[93,5,21,24,"Index"],[93,10,21,29],[94,4,21,29],[94,12,22,17,"useRouter"],[94,23,22,26],[94,24,22,26,"useRouter"],[94,33,22,26],[95,2,22,26],[96,2,22,26,"_c"],[96,4,22,26],[96,7,21,24,"Index"],[96,12,21,29],[97,2,64,0],[97,8,64,6,"styles"],[97,14,64,12],[97,17,64,15,"StyleSheet"],[97,27,64,25],[97,28,64,25,"default"],[97,35,64,25],[97,36,64,26,"create"],[97,42,64,32],[97,43,64,33],[98,4,65,2,"container"],[98,13,65,11],[98,15,65,13],[99,6,66,4,"flex"],[99,10,66,8],[99,12,66,10],[99,13,66,11],[100,6,67,4,"justifyContent"],[100,20,67,18],[100,22,67,20],[100,30,67,28],[101,6,68,4,"alignItems"],[101,16,68,14],[101,18,68,16],[101,26,68,24],[102,6,69,4,"backgroundColor"],[102,21,69,19],[102,23,69,21],[103,4,70,2],[104,2,71,0],[104,3,71,1],[104,4,71,2],[105,2,71,3],[105,6,71,3,"_c"],[105,8,71,3],[106,2,71,3,"$RefreshReg$"],[106,14,71,3],[106,15,71,3,"_c"],[106,17,71,3],[107,0,71,3],[107,3]],"functionMap":{"names":["<global>","storage.get","Index","useEffect$argument_0","checkAuthAndRedirect"],"mappings":"AAA;OCW;GDM;eEG;YCI;GDE;+BEE;GF0B;CFO"},"hasCjsExports":false},"type":"js/module"}]}